<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
    <table id="dataTable" class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">
                    Id
                </th>
                <th scope="col" class="px-6 py-3">
                    Usuario
                </th>
                <th scope="col" class="px-6 py-3">
                    Hora Ingreso
                </th>
                <th scope="col" class="px-6 py-3">
                    Dia
                </th>
                <th scope="col" class="px-6 py-3">
                    Estado
                </th>
                <th scope="col" class="px-6 py-3">
                    <span class="sr-only"></span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr  class="bg-white border-b bg-yellow-50">
                <form action="mrcsise-clases/insertar" method="post">
                    <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                    </td>
                    <td class="px-6 py-4">
                        <select name="idUsuario" class="block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <% for( let i=0; i < metadata.usuarios.length; i++ ) { %>
                                <% if(metadata.usuarios[i].estado_auditoria == '1') { %>
                                    <option value="<%=metadata.usuarios[i].id_usuario%>" ><%=metadata.usuarios[i].username%></option>
                                <% } %>
                            <% } %>
                        </select>
                    </td>
                    <td class="px-6 py-4">
                        <input class="border rounded p-1 w-full" type="time" value="" name="horaIngreso" required>
                    </td>
                    <td class="px-6 py-4">
                        <select name="dia" class="block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <option value="L">Lunes</option>
                            <option value="M">Martes</option>
                            <option value="X">Miercoles</option>
                            <option value="J">Jueves</option>
                            <option value="V">Viernes</option>
                            <option value="S">Sabado</option>
                        </select>
                    </td>
                    <td class="px-6 py-4">
                    </td>
                    <td class="px-6 py-4 text-right">
                        <button type="submit" class="font-medium p-1 rounded hover:bg-gray-200 text-gray-700"><i class="bx bxs-save"></i></button>
                    </td>
                </form>
            </tr>
            <% if (!hasData) { %>
                <tr  class="bg-white border-b hover:bg-gray-50">
                    <th scope="row" colspan="6"
                        class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                        No se han encontrado registros
                    </th>
                </tr>
            <% } %>
            <% if (hasData) { %>
                
                <% for( let i=0; i < data.length; i++ ) { %>
                    <tr class="bg-white border-b hover:bg-gray-50">
                        <form action="mrcsise-clases/actualizar" method="post">
                            <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                <%= data[i].id_clase %>
                                <input type="hidden" value="<%= data[i].id_clase %>" name="idClase" required>
                            </td>
                            <td class="px-6 py-4">
                                <select name="idUsuario" class="block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                    <% for( let j=0; j < metadata.usuarios.length; j++ ) { %>
                                        <% if(metadata.usuarios[j].estado_auditoria == '1') { %>
                                            <option value="<%=metadata.usuarios[j].id_usuario%>" <%= data[i].id_usuario == metadata.usuarios[j].id_usuario ? 'selected' : '' %> ><%=metadata.usuarios[j].username%></option>
                                        <% } %>
                                    <% } %>
                                </select>
                                <!-- <input class="border rounded p-1" type="text" value="<%= data[i].id_usuario %>" name="username" required> -->
                            </td>
                            <td class="px-6 py-4">
                                <input class="border rounded p-1 w-full" type="time" value="<%= data[i].hora_ingreso %>" name="horaIngreso" required>
                            </td>
                            <td class="px-6 py-4">
                                <select name="dia" class="block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                    <option value="L" <%= data[i].dia == 'L' ? 'selected' : '' %>>Lunes</option>
                                    <option value="M" <%= data[i].dia == 'M' ? 'selected' : '' %>>Martes</option>
                                    <option value="X" <%= data[i].dia == 'X' ? 'selected' : '' %>>Miercoles</option>
                                    <option value="J" <%= data[i].dia == 'J' ? 'selected' : '' %>>Jueves</option>
                                    <option value="V" <%= data[i].dia == 'V' ? 'selected' : '' %>>Viernes</option>
                                    <option value="S" <%= data[i].dia == 'S' ? 'selected' : '' %>>Sabado</option>
                                </select>                            
                            </td>
                            <td class="px-6 py-4">
                                <div class="<%= data[i].estado_auditoria == '1' ? 'bg-green-200 text-green-800' : 'bg-red-200 text-red-800' %> pr-2 pl-2 font-medium text-center rounded">
                                    <input type="checkbox" name="estadoAuditoria" value="1" <%= data[i].estado_auditoria == '1' ? 'checked' : '' %>>
                                    <%= data[i].estado_auditoria == '1' ? 'ACTIVO' : 'INACTIVO' %>
                                </div>
                            </td>
                            <td class="px-6 py-4 text-right">
                                <button type="submit" class="font-medium p-1 rounded hover:bg-gray-200 text-gray-700"><i class="bx bxs-save"></i></button>
                            </td>
                        </form>
                    </tr> 
                <% } %>
            <% } %>
        </tbody>
    </table>
    <div class="flex justify-between items-center p-4">
        <button id="prevPage" class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600">Anterior</button>
        <span id="pageNumber" class="text-sm text-gray-500">PÃ¡gina 1</span>
        <button id="nextPage" class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600">Siguiente</button>
    </div>

</div>